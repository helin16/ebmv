var ddsmoothmenu={arrowimages:{down:["downarrowclass","down.gif",23],right:["rightarrowclass","right.gif",6]},transition:{overtime:300,outtime:300},shadow:true,showhidedelay:{showdelay:100,hidedelay:200},zindexvalue:1000,closeonnonmenuclick:true,closeonmouseout:false,overarrowre:/(?=\.(gif|jpg|jpeg|png|bmp))/i,overarrowaddtofilename:"_over",detecttouch:!!("ontouchstart" in window)||!!("ontouchstart" in document.documentElement)||!!window.ontouchstart||(!!window.Touch&&!!window.Touch.length)||!!window.onmsgesturechange||(window.DocumentTouch&&window.document instanceof window.DocumentTouch),detectwebkit:navigator.userAgent.toLowerCase().indexOf("applewebkit")>-1,idevice:/ipad|iphone/i.test(navigator.userAgent),detectie6:(function(){var a;return(a=/MSIE (\d+)/.exec(navigator.userAgent))&&a[1]<7})(),detectie9:(function(){var a;return(a=/MSIE (\d+)/.exec(navigator.userAgent))&&a[1]>8})(),ie9shadow:function(){},css3support:typeof document.documentElement.style.boxShadow==="string"||(!document.all&&document.querySelector),prevobjs:[],menus:null,executelink:function(f,c,d){var a=c.length,b=d.target;while(--a>-1){if(c[a]===this){c.splice(a,1);if(b.href!==ddsmoothmenu.emptyhash&&b.href&&f(b).is("a")&&!f(b).children("span."+ddsmoothmenu.arrowimages.down[0]+", span."+ddsmoothmenu.arrowimages.right[0]).length){if(b.target&&b.target!=="_self"){window.open(b.href,b.target)}else{window.location.href=b.href}d.stopPropagation()}}}},repositionv:function(c,d,e,b,g,a,f){f=f||0;var h=0,i=b+g;c.css({top:e,display:"block"});while(c.offset().top<g){c.css({top:++e});++h}if(!h&&d.offset().top+d.outerHeight()<i&&c.data("height")+c.offset().top>i){c.css({top:g-d.parents("ul").last().offset().top-d.position().top})}a==="toggle"&&c.css({display:"none"});if(e!==f){c.addClass("repositionedv")}return[h,e]},updateprev:function(f,e,c){var d=e.length,b,a=c.parents().add(this);while(--d>-1){if(a.index((b=e[d]))<0){f(b).trigger("click",[1]);e.splice(d,1)}}e.push(this)},subulpreventemptyclose:function(b){var a=b.target;if(a.href===ddsmoothmenu.emptyhash&&jQuery(a).parent("li").find("ul").length<1){b.preventDefault();b.stopPropagation()}},getajaxmenu:function(d,c,b){var a=d("#"+c.contentsource[0]);a.html("Loading Menu...");d.ajax({url:c.contentsource[1],async:true,error:function(e){a.html("Error fetching content. Server Response: "+e.responseText)},success:function(e){a.html(e);!!!b&&ddsmoothmenu.buildmenu(d,c)}})},closeall:function(c){var b=ddsmoothmenu,a;if(!b.globaltrackopen){return}if(c.type==="mouseleave"||((c.type==="click"||c.type==="touchstart")&&b.menus.index(c.target)<0)){a=b.prevobjs.length;while(--a>-1){jQuery(b.prevobjs[a]).trigger("click");b.prevobjs.splice(a,1)}}},emptyhash:jQuery('<a href="#"></a>').get(0).href,buildmenu:function(l,m){var g=ddsmoothmenu;g.globaltrackopen=g.closeonnonmenuclick||g.closeonmouseout;var b=0;var k=g.globaltrackopen?g.prevobjs:[];var j=l("#"+m.mainmenuid).removeClass("ddsmoothmenu ddsmoothmenu-v").addClass(m.classname||"ddsmoothmenu");m.repositionv=m.repositionv!==false;var h=j.find(">ul");var a=g.detecttouch?"toggle":m.method==="toggle"?"toggle":"hover";var d=h.find(">li>ul").parent();var e=m.orientation!="v"?"down":"right",c=l(document.body);h.click(function(n){n.target.href===g.emptyhash&&n.preventDefault()});if(a==="toggle"){if(g.globaltrackopen){g.menus=g.menus?g.menus.add(h.add(h.find("*"))):h.add(h.find("*"))}if(g.closeonnonmenuclick){if(e==="down"){j.click(function(n){n.stopPropagation()})}l(document).unbind("click.smoothmenu").bind("click.smoothmenu",g.closeall);if(g.idevice){document.removeEventListener("touchstart",g.closeall,false);document.addEventListener("touchstart",g.closeall,false)}}else{if(m.closeonnonmenuclick){if(e==="down"){j.click(function(n){n.stopPropagation()})}l(document).bind("click."+m.mainmenuid,function(n){h.find("li>a.selected").parent().trigger("click")});if(g.idevice){document.addEventListener("touchstart",function(n){h.find("li>a.selected").parent().trigger("click")},false)}}}if(g.closeonmouseout){var f=e==="down"?j:h;f.bind("mouseleave.smoothmenu",g.closeall)}else{if(m.closeonmouseout){var f=e==="down"?j:h;f.bind("mouseleave.smoothmenu",function(){h.find("li>a.selected").parent().trigger("click")})}}if(!l('style[title="ddsmoothmenushadowsnone"]').length){l("head").append('<style title="ddsmoothmenushadowsnone" type="text/css">.ddsmoothmenushadowsnone{display:none!important;}</style>')}var i;l(window).bind("resize scroll",function(){clearTimeout(i);var o=h.find("li>a.selected").parent(),n=l(".ddshadow").addClass("ddsmoothmenushadowsnone");o.eq(0).trigger("click");o.trigger("click");i=setTimeout(function(){n.removeClass("ddsmoothmenushadowsnone")},100)})}d.each(function(){var o=l(this).css({zIndex:(m.zindexvalue||g.zindexvalue)+b--});var q=o.children("ul:eq(0)").css({display:"block"}).data("timers",{});var n=o.children("a:eq(0)").css({paddingRight:g.arrowimages[e][2]}).append('<span style="display: block;" class="'+g.arrowimages[e][0]+'"></span>');var r={w:n.outerWidth(),h:o.innerHeight(),subulw:q.outerWidth(),subulh:q.outerHeight()};var s=e==="down"?r.h:0;q.css({top:s});function p(){n.removeClass("selected")}a==="toggle"&&q.click(g.subulpreventemptyclose);o[a](function(t){if(!o.data("headers")){g.buildsubheaders(l,q.find(">li>ul").parent(),m,a,k);o.data("headers",true).find(">ul").each(function(w,v){var u=l(v);u.data("height",u.outerHeight())}).css({display:"none",visibility:"visible"})}a==="toggle"&&g.updateprev.call(this,l,k,o);clearTimeout(q.data("timers").hidetimer);n.addClass("selected");q.data("timers").showtimer=setTimeout(function(){var C=e==="down"?0:r.w;var x=C,z,A,v,B=0;C=(o.offset().left+C+r.subulw>l(window).width())?(e==="down"?-r.subulw+r.w:-r.w):C;x=x!==C;q.css({top:s}).removeClass("repositionedv");if(m.repositionv&&n.offset().top+s+q.data("height")>(v=l(window).height())+(A=l(document).scrollTop())){z=(e==="down"?0:n.outerHeight())-q.data("height");B=g.repositionv(q,n,z,v,A,a,s)[0]}q.css({left:C,width:r.subulw}).stop(true,true).animate({height:"show",opacity:"show"},g.transition.overtime,function(){this.style.removeAttribute&&this.style.removeAttribute("filter")});if(x){q.addClass("repositioned")}else{q.removeClass("repositioned")}if(m.shadow){if(!o.data("jQueryshadow")){o.data("jQueryshadow",l("<div></div>").addClass("ddshadow toplevelshadow").prependTo(c).css({zIndex:o.css("zIndex")}))}g.ie9shadow(o.data("jQueryshadow"));var w=q.offset();var u=w.left;var y=w.top;o.data("jQueryshadow").css({overflow:"visible",width:r.subulw,left:u,top:y}).stop(true,true).animate({height:r.subulh},g.transition.overtime)}},g.showhidedelay.showdelay)},function(v,u){var t=o.data("jQueryshadow");if(a==="hover"){p()}else{g.executelink.call(this,l,k,v)}clearTimeout(q.data("timers").showtimer);q.data("timers").hidetimer=setTimeout(function(){q.stop(true,true).animate({height:"hide",opacity:"hide"},u||g.transition.outtime,function(){a==="toggle"&&p()});if(t){if(!g.css3support&&g.detectwebkit){t.children("div:eq(0)").css({opacity:0})}t.stop(true,true).animate({height:0},u||g.transition.outtime,function(){if(a==="toggle"){this.style.overflow="hidden"}})}},g.showhidedelay.hidedelay)})})},buildsubheaders:function(d,b,a,e,c){b.each(function(){var l=ddsmoothmenu;var h=d(this).css({zIndex:d(this).parent("ul").css("z-index")});var j=h.children("ul:eq(0)").css({display:"block"}).data("timers",{}),g;e==="toggle"&&j.click(l.subulpreventemptyclose);var f=h.children("a:eq(0)").append('<span style="display: block;" class="'+l.arrowimages.right[0]+'"></span>');var k={w:f.outerWidth(),subulw:j.outerWidth(),subulh:j.outerHeight()};j.css({top:0});function i(){f.removeClass("selected")}h[e](function(m){if(!h.data("headers")){l.buildsubheaders(d,j.find(">li>ul").parent(),a,e,c);h.data("headers",true).find(">ul").each(function(p,o){var n=d(o);n.data("height",n.height())}).css({display:"none",visibility:"visible"})}e==="toggle"&&l.updateprev.call(this,d,c,h);clearTimeout(j.data("timers").hidetimer);f.addClass("selected");j.data("timers").showtimer=setTimeout(function(){var v=k.w;var q=v,s,t,o,u=0;v=(h.offset().left+v+k.subulw>d(window).width())?-k.w:v;q=q!==v;j.css({top:0}).removeClass("repositionedv");if(a.repositionv&&f.offset().top+j.data("height")>(o=d(window).height())+(t=d(document).scrollTop())){s=f.outerHeight()-j.data("height");u=l.repositionv(j,f,s,o,t,e);s=u[1];u=u[0]}j.css({left:v,width:k.subulw}).stop(true,true).animate({height:"show",opacity:"show"},l.transition.overtime,function(){this.style.removeAttribute&&this.style.removeAttribute("filter")});if(q){j.addClass("repositioned")}else{j.removeClass("repositioned")}if(a.shadow){if(!h.data("jQueryshadow")){g=h.parents("li:eq(0)").data("jQueryshadow");h.data("jQueryshadow",d("<div></div>").addClass("ddshadow").prependTo(g).css({zIndex:g.css("z-index")}))}var p=j.offset();var n=v;var r=h.position().top-(s?j.data("height")-f.outerHeight()-u:0);if(l.detectwebkit&&!l.css3support){h.data("jQueryshadow").css({opacity:1})}h.data("jQueryshadow").css({overflow:"visible",width:k.subulw,left:n,top:r}).stop(true,true).animate({height:k.subulh},l.transition.overtime)}},l.showhidedelay.showdelay)},function(o,n){var m=h.data("jQueryshadow");if(e==="hover"){i()}else{l.executelink.call(this,d,c,o)}clearTimeout(j.data("timers").showtimer);j.data("timers").hidetimer=setTimeout(function(){j.stop(true,true).animate({height:"hide",opacity:"hide"},n||l.transition.outtime,function(){e==="toggle"&&i()});if(m){if(!l.css3support&&l.detectwebkit){m.children("div:eq(0)").css({opacity:0})}m.stop(true,true).animate({height:0},n||l.transition.outtime,function(){if(e==="toggle"){this.style.overflow="hidden"}})}},l.showhidedelay.hidedelay)})})},init:function(e){if(this.detectie6&&parseFloat(jQuery.fn.jquery)>1.3){this.init=function(h){if(typeof h.contentsource=="object"){jQuery(function(i){ddsmoothmenu.getajaxmenu(i,h,"nobuild")})}return false};jQuery('link[href*="ddsmoothmenu"]').attr("disabled",true);jQuery(function(h){alert("You Seriously Need to Update Your Browser!\n\nDynamic Drive Smooth Navigational Menu Showing Text Only Menu(s)\n\nDEVELOPER's NOTE: This script will run in IE 6 when using jQuery 1.3.2 or less,\nbut not real well.");h('link[href*="ddsmoothmenu"]').attr("disabled",true)});return this.init(e)}var d="#"+e.mainmenuid,a,g,c=["</style>\n"],b=e.arrowswap?4:2;function f(){if(b){return}if(typeof e.customtheme=="object"&&e.customtheme.length==2){var h=(e.orientation=="v")?d:d+", "+d;c.push([h," ul li a {background:",e.customtheme[0],";}\n",d," ul li a:hover {background:",e.customtheme[1],";}"].join(""))}c.push('\n<style type="text/css">');c.reverse();jQuery("head").append(c.join("\n"))}if(e.arrowswap){a=ddsmoothmenu.arrowimages.right[1].replace(ddsmoothmenu.overarrowre,ddsmoothmenu.overarrowaddtofilename);g=ddsmoothmenu.arrowimages.down[1].replace(ddsmoothmenu.overarrowre,ddsmoothmenu.overarrowaddtofilename);jQuery(new Image()).bind("load error",function(h){e.rightswap=h.type==="load";if(e.rightswap){c.push([d," ul li a:hover .",ddsmoothmenu.arrowimages.right[0],", ",d," ul li a.selected .",ddsmoothmenu.arrowimages.right[0]," { background-image: url(",this.src,");}"].join(""))}--b;f()}).attr("src",a);jQuery(new Image()).bind("load error",function(h){e.downswap=h.type==="load";if(e.downswap){c.push([d," ul li a:hover .",ddsmoothmenu.arrowimages.down[0],", ",d," ul li a.selected .",ddsmoothmenu.arrowimages.down[0]," { background-image: url(",this.src,");}"].join(""))}--b;f()}).attr("src",g)}jQuery(new Image()).bind("load error",function(h){if(h.type==="load"){c.push([d+" ul li a .",ddsmoothmenu.arrowimages.right[0]," { background: url(",this.src,") no-repeat;width:",this.width,"px;height:",this.height,"px;}"].join(""))}--b;f()}).attr("src",ddsmoothmenu.arrowimages.right[1]);jQuery(new Image()).bind("load error",function(h){if(h.type==="load"){c.push([d+" ul li a .",ddsmoothmenu.arrowimages.down[0]," { background: url(",this.src,") no-repeat;width:",this.width,"px;height:",this.height,"px;}"].join(""))}--b;f()}).attr("src",ddsmoothmenu.arrowimages.down[1]);e.shadow=this.detectie6&&(e.method==="hover"||e.orientation==="v")?false:e.shadow||this.shadow;jQuery(document).ready(function(h){if(e.shadow&&ddsmoothmenu.css3support){h("body").addClass("ddcss3support")}if(typeof e.contentsource=="object"){ddsmoothmenu.getajaxmenu(h,e)}else{ddsmoothmenu.buildmenu(h,e)}})}};if((function(c){var a=false;try{c('<a href="#"></a>').toggle(function(){},function(){a=true}).trigger("click").trigger("click")}catch(b){}return !a})(jQuery)){(function(){var a=jQuery.fn.toggle;jQuery.extend(jQuery.fn,{toggle:function(f,d){if(!jQuery.isFunction(f)||!jQuery.isFunction(d)){return a.apply(this,arguments)}var c=arguments,b=f.guid||jQuery.guid++,e=0,g=function(h){var i=(jQuery._data(this,"lastToggle"+f.guid)||0)%e;jQuery._data(this,"lastToggle"+f.guid,i+1);h.preventDefault();return c[i].apply(this,arguments)||false};g.guid=b;while(e<c.length){c[e++].guid=b}return this.click(g)}})})()}if(ddsmoothmenu.detectie9){(function(d){function b(e,f){return parseInt(e)+f+"px"}ddsmoothmenu.ie9shadow=function(g){var e=document.defaultView.getComputedStyle(g.get(0),null),f=e.getPropertyValue("box-shadow").split(" "),h={top:e.getPropertyValue("margin-top"),left:e.getPropertyValue("margin-left")};d("head").append(['\n<style title="ie9shadow" type="text/css">',".ddcss3support .ddshadow {","\tbox-shadow: "+b(f[0],1)+" "+b(f[1],1)+" "+f[2]+" "+f[3]+";","}",".ddcss3support .ddshadow.toplevelshadow {","\topacity: "+(d(".ddcss3support .ddshadow").css("opacity")-0.1)+";","\tmargin-top: "+b(h.top,-1)+";","\tmargin-left: "+b(h.left,-1)+";","}","</style>\n"].join("\n"));ddsmoothmenu.ie9shadow=function(){}};var a=d.fn.height,c=d.fn.width;d.extend(d.fn,{height:function(){var e=this.get(0);if(this.length<1||arguments.length||e===window||e===document){return a.apply(this,arguments)}return parseFloat(document.defaultView.getComputedStyle(e,null).getPropertyValue("height"))},innerHeight:function(){if(this.length<1){return null}var g=this.height(),f=this.get(0),e=document.defaultView.getComputedStyle(f,null);g+=parseInt(e.getPropertyValue("padding-top"));g+=parseInt(e.getPropertyValue("padding-bottom"));return g},outerHeight:function(f){if(this.length<1){return null}var h=this.innerHeight(),g=this.get(0),e=document.defaultView.getComputedStyle(g,null);h+=parseInt(e.getPropertyValue("border-top-width"));h+=parseInt(e.getPropertyValue("border-bottom-width"));if(f){h+=parseInt(e.getPropertyValue("margin-top"));h+=parseInt(e.getPropertyValue("margin-bottom"))}return h},width:function(){var e=this.get(0);if(this.length<1||arguments.length||e===window||e===document){return c.apply(this,arguments)}return parseFloat(document.defaultView.getComputedStyle(e,null).getPropertyValue("width"))},innerWidth:function(){if(this.length<1){return null}var g=this.width(),f=this.get(0),e=document.defaultView.getComputedStyle(f,null);g+=parseInt(e.getPropertyValue("padding-right"));g+=parseInt(e.getPropertyValue("padding-left"));return g},outerWidth:function(f){if(this.length<1){return null}var h=this.innerWidth(),g=this.get(0),e=document.defaultView.getComputedStyle(g,null);h+=parseInt(e.getPropertyValue("border-right-width"));h+=parseInt(e.getPropertyValue("border-left-width"));if(f){h+=parseInt(e.getPropertyValue("margin-right"));h+=parseInt(e.getPropertyValue("margin-left"))}return h}})})(jQuery)};