var PageJs=new Class.create();PageJs.prototype=Object.extend(new FrontPageJs(),{product:null,readOnline:function(b){var a={};a.me=this;$(b).writeAttribute("originvalue",$F(b));a.me.getUser(b,function(){a.me._getLink(b,"read")},function(){$(b).disabled=true;$(b).value="Processing ..."})},download:function(b){var a={};a.me=this;$(b).writeAttribute("originvalue",$F(b));a.me.getUser(b,function(){a.me._getLink(b,"download")},function(){$(b).disabled=true;$(b).value="Processing ..."})},_getLink:function(b,c){var a={};a.me=this;a.me.postAjax(a.me.getCallbackId("geturl"),{type:c},{onLoading:function(){},onComplete:function(d,g){try{a.result=a.me.getResp(g,false,true);if(a.result.url){window.open(a.result.url)}if(a.result.redirecturl){window.location=a.result.redirecturl}}catch(f){alert(f)}$(b).disabled=false;$(b).value=$(b).readAttribute("originvalue")}},120000)}});